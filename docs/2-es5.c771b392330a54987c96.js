function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{ISAC:function(e,t,n){"use strict";n.r(t),n.d(t,"MapComponent",(function(){return v}));var i=n("7o/Q"),r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r.pending=!1,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){return this}}]),n}(n("quSY").a)),a=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),s=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.now;return _classCallCheck(this,n),(i=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():r()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,i):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,i)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(a))(r),o=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.dueTime,this.scheduler))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var a;return _classCallCheck(this,n),(a=t.call(this,e)).dueTime=i,a.scheduler=r,a.debouncedSubscription=null,a.lastValue=null,a.hasValue=!1,a}return _createClass(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(i.a);function c(e){e.debouncedNext()}var l,h,d=n("fXoL"),f=((l=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||l)},l.\u0275cmp=d.Cb({type:l,selectors:[["cm-map-point"]],inputs:{longitude:"longitude",latitude:"latitude",markerText:"markerText"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),l),p=["mapContainer"],v=((h=function(){function e(){_classCallCheck(this,e),this.markers=[],this.latitude=34.5133,this.longitude=-94.1629,this.markerText="Your Location",this.zoom=8,this._dataPoints=null}return _createClass(e,[{key:"ngOnInit",value:function(){if(this.latitude&&this.longitude)if(this.mapHeight&&this.mapWidth)this.mapHeight=this.height+"px",this.mapWidth=this.width+"px";else{var e=this.getWindowHeightWidth(this.mapDiv.nativeElement.ownerDocument);this.mapHeight=e.height/2+"px",this.mapWidth=e.width+"px"}}},{key:"ngAfterContentInit",value:function(){var e=this;this.mapPoints.changes.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return function(n){return n.lift(new o(e,t))}}(500)).subscribe((function(){e.enabled&&e.renderMapPoints()}))}},{key:"init",value:function(){var e=this;setTimeout((function(){e.ensureScript()}),200)}},{key:"getWindowHeightWidth",value:function(e){var t=window.innerWidth||e.documentElement.clientWidth||e.body.clientWidth;return t>900&&(t=900),{height:window.innerHeight||e.documentElement.clientHeight||e.body.clientHeight,width:t}}},{key:"ensureScript",value:function(){var e=this;this.loadingScript=!0;var t=this.mapDiv.nativeElement.ownerDocument;if(t.querySelector('script[id="googlemaps"]'))this.isEnabled&&this.renderMap();else{var n=t.createElement("script");n.id="googlemaps",n.type="text/javascript",n.async=!0,n.defer=!0,n.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCG1KDldeF_2GzaTXrEHR0l6cyCS7AnmBw",n.onload=function(){e.loadingScript=!1,e.isEnabled&&e.renderMap()},t.body.appendChild(n)}}},{key:"renderMap",value:function(){var e=this.createLatLong(this.latitude,this.longitude),t={zoom:this.zoom,center:e,mapTypeControl:!0,mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(this.mapDiv.nativeElement,t),this.mapPoints&&this.mapPoints.length||this.dataPoints&&this.dataPoints.length?this.renderMapPoints():this.createMarker(e,this.markerText)}},{key:"createLatLong",value:function(e,t){return e&&t?new google.maps.LatLng(e,t):null}},{key:"renderMapPoints",value:function(){if(this.map){this.clearMapPoints();var e=this.mapPoints&&this.mapPoints.length?this.mapPoints:this.dataPoints;if(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,r=i.markerText?i.markerText:"<h3>".concat(i.firstName," ").concat(i.lastName,"</h3>"),a=this.createLatLong(i.latitude,i.longitude);this.createMarker(a,r)}}catch(s){n.e(s)}finally{n.f()}}}}},{key:"clearMapPoints",value:function(){this.markers.forEach((function(e){e.setMap(null)})),this.markers=[]}},{key:"createMarker",value:function(e,t){var n=this,i=new google.maps.InfoWindow({content:t}),r=new google.maps.Marker({position:e,map:this.map,title:t,animation:google.maps.Animation.DROP});this.markers.push(r),r.addListener("click",(function(){i.open(n.map,r)}))}},{key:"dataPoints",get:function(){return this._dataPoints},set:function(e){this._dataPoints=e,this.renderMapPoints()}},{key:"enabled",get:function(){return this.isEnabled},set:function(e){this.isEnabled=e,this.init()}}]),e}()).\u0275fac=function(e){return new(e||h)},h.\u0275cmp=d.Cb({type:h,selectors:[["cm-map"]],contentQueries:function(e,t,n){var i;1&e&&d.Bb(n,f,!1),2&e&&d.fc(i=d.Ub())&&(t.mapPoints=i)},viewQuery:function(e,t){var n;1&e&&d.kc(p,!0),2&e&&d.fc(n=d.Ub())&&(t.mapDiv=n.first)},inputs:{height:"height",width:"width",latitude:"latitude",longitude:"longitude",markerText:"markerText",zoom:"zoom",dataPoints:"dataPoints",enabled:"enabled"},decls:3,vars:4,consts:[["mapContainer",""]],template:function(e,t){1&e&&(d.Mb(0,"div",null,0),d.nc(2,"Map Loading...."),d.Lb()),2&e&&d.lc("height",t.mapHeight)("width",t.mapWidth)},encapsulation:2,changeDetection:0}),h)}}]);